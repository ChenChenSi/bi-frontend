# 认证与权限 (Auth & RBAC) 需求文档

## 1. 概述
本模块负责用户的身份验证 (Authentication) 和权限控制 (Authorization)。

## 2. 功能需求

### 2.1 登录与鉴权
- **登录**:
  - 提供登录页面。
  - 成功后返回 Token，前端存储 (Cookie/LocalStorage)。
  - 后续请求 Header 携带 Token。
- **权限检查**:
  - 用户访问特定资源（如报表详情、编辑页）时，前端需请求后端接口校验当前用户是否有权操作。
  - 若无权，跳转到申请页或展示提示。

### 2.2 角色体系 (RBAC)
- **预设角色**:
  - **Super Admin**: 系统级超管。
  - **Workspace Admin**: 工作区管理员。
  - **Report Admin**: 报告管理员。
  - **Report Editor**: 报告编辑者。
  - **Report Viewer**: 报告访客。

### 2.3 权限申请与审批
- **申请**:
  - 无权访问报告的用户，可点击“申请访问”按钮。
  - 填写申请理由。
- **审批通知**:
  - 系统生成审批任务，发送给**报告管理员**。
  - 同时**抄送工作区管理员**。
  - 管理员可在系统内（或邮件）查看并处理申请。
- **结果通知**:
  - 申请通过/拒绝后，通知申请人。

### 2.4 管理界面
- **成员管理 (Member Management)**:
  - **列表展示**: 显示用户名、角色、加入时间。
  - **添加成员**: 
    - 使用**模态框 (Modal)**，支持按用户名搜索。
    - 避免使用原生 `prompt`，提升体验。
  - **移除成员**: 列表操作栏提供移除功能。
- **用户组管理 (Group Management)**:
  - **创建/编辑**: 定义组名、描述。
  - **关联成员**: 将现有用户添加到组。
  - **列表展示**: 显示组名、成员数量。
