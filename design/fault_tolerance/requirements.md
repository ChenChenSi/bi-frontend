# 容错与告警 (Fault Tolerance) 需求文档

## 1. 概述
为确保 BI 系统的稳定性和可用性，特别是在数据加载和实时刷新场景下，系统必须具备容错与告警机制。

## 2. 功能需求

### 2.1 自动重试机制 (Auto Retry)
- **触发条件**: 任何组件数据接口 (Data Fetch) 返回非 2xx 状态码（排除 401/403）。
- **策略**:
  - 最大重试次数: **3次**。
  - 重试间隔: **5秒**。
  - 指数退避 (Exponential Backoff): 可选，如 1s, 2s, 4s, 8s。

### 2.2 失败兜底 UI (Fallback UI)
- **Loading 态**: 请求中显示 Loading 动画。
- **失败态**: 若重试 3 次后仍失败，组件区域展示友好的“数据加载失败”占位图或文字提示，允许用户手动点击重试。

### 2.3 异常上报与告警 (Alerting)
- **上报**:
  - 当组件数据加载彻底失败（重试耗尽）时，前端自动调用告警接口。
  - 上报内容包括：报告 ID、组件 ID、错误堆栈、时间戳、用户 ID。
- **告警分发**:
  - 后端接收到上报后，根据报告 ID 查找其**报告管理员**。
  - 发送通知（邮件/站内信）给报告管理员，告知具体哪个图表加载失败。
